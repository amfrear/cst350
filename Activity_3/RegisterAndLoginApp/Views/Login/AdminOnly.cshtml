@*
For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<h1>Admin Only</h1>
<p>Welcome to the admin-only page</p>

@{
    string? userString = Context.Session.GetString("User");
    var user = ServiceStack.Text.JsonSerializer.DeserializeFromString<UserModel>(userString);

    if (string.IsNullOrEmpty(userString))
    {
                <p>You are not logged in</p>
    }
    else
    {
                <p>You are logged in as @user.Username</p>
        <!-- print formatted json -->
                <pre>@userString</pre>
    }
}